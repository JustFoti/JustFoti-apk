# =============================================================================
# Flyx Environment Configuration
# =============================================================================
# This file contains all environment variables for Cloudflare deployment.
# Copy to .env.local and fill in your values.
# =============================================================================

# =============================================================================
# REQUIRED: TMDB API Configuration
# =============================================================================
# Get your API key from: https://www.themoviedb.org/settings/api
# Use the Bearer token (Read Access Token) from TMDB API settings
TMDB_API_KEY=your_tmdb_bearer_token_here
NEXT_PUBLIC_TMDB_API_KEY=your_tmdb_api_key_here

# =============================================================================
# REQUIRED: Cloudflare Worker URLs
# =============================================================================
# Deploy the workers and update these URLs with your Cloudflare subdomain

# Sync Worker: Cross-device sync (watch progress, watchlist, settings)
# Deploy: cd cf-sync-worker && npm run deploy
NEXT_PUBLIC_CF_SYNC_URL=https://flyx-sync.YOUR-SUBDOMAIN.workers.dev

# Analytics Worker: Page views, watch sessions, presence tracking
# Deploy: cd cf-analytics-worker && npm run deploy
NEXT_PUBLIC_CF_ANALYTICS_WORKER_URL=https://flyx-analytics.YOUR-SUBDOMAIN.workers.dev

# Media Proxy Worker: Stream proxying, HLS, live TV
# Deploy: cd cloudflare-proxy && npm run deploy
NEXT_PUBLIC_CF_PROXY_URL=https://media-proxy.YOUR-SUBDOMAIN.workers.dev

# =============================================================================
# OPTIONAL: Additional Proxy URLs
# =============================================================================
# These are derived from the main proxy URL but can be customized

# Stream proxy endpoint for HLS streams
NEXT_PUBLIC_CF_STREAM_PROXY_URL=https://media-proxy.YOUR-SUBDOMAIN.workers.dev/stream

# TV proxy endpoint for DLHD live TV streams
NEXT_PUBLIC_CF_TV_PROXY_URL=https://media-proxy.YOUR-SUBDOMAIN.workers.dev

# TMDB proxy endpoint (routes TMDB API calls through Cloudflare edge)
NEXT_PUBLIC_CF_TMDB_URL=https://media-proxy.YOUR-SUBDOMAIN.workers.dev

# =============================================================================
# OPTIONAL: RPI Proxy Configuration
# =============================================================================
# For live TV CDN bypass and IPTV streams using residential IP
# The RPi proxy runs on a residential IP to bypass datacenter IP blocking

RPI_PROXY_URL=https://your-rpi-proxy.com
RPI_PROXY_KEY=your-rpi-proxy-api-key

# Public URLs for client-side IPTV stream proxying
NEXT_PUBLIC_RPI_PROXY_URL=https://your-rpi-proxy.com
NEXT_PUBLIC_RPI_PROXY_KEY=your-rpi-proxy-api-key

# =============================================================================
# OPTIONAL: Live TV Configuration
# =============================================================================
# Set to 'true' to use residential proxy for Live TV (more reliable)
# Set to 'false' to use direct fetch with RPI fallback
NEXT_PUBLIC_USE_DLHD_PROXY=true

# =============================================================================
# OPTIONAL: Security & Authentication
# =============================================================================
# JWT secret for admin authentication (set via wrangler secret put JWT_SECRET)
# JWT_SECRET=your_jwt_secret_here

# IP hashing salt for privacy (anonymize IP addresses in analytics)
IP_SALT=your_random_salt_here

# =============================================================================
# OPTIONAL: Provider Configuration
# =============================================================================

# ⚠️ VidSrc Provider (SECURITY WARNING)
# VidSrc executes remote JavaScript code which poses security risks.
# DISABLED BY DEFAULT. Only enable if you understand the risks.
# ENABLE_VIDSRC_PROVIDER=true

# Flixer Provider (enabled by default)
# ENABLE_FLIXER_PROVIDER=false

# =============================================================================
# OPTIONAL: Decoder Sandbox (Required if VidSrc is enabled)
# =============================================================================
# Deploy the cloudflare-proxy worker and use the /decode endpoint
# This runs untrusted decoder scripts in an isolated V8 sandbox
DECODER_SANDBOX_URL=https://media-proxy.YOUR-SUBDOMAIN.workers.dev
DECODER_SANDBOX_API_KEY=your-sandbox-api-key

# =============================================================================
# OPTIONAL: Captcha Solving
# =============================================================================
# For automatic Cloudflare Turnstile bypass
# Get an API key at https://capsolver.com (~$2-3 per 1000 solves)
# CAPSOLVER_API_KEY=your_capsolver_api_key_here

# =============================================================================
# OPTIONAL: Email Configuration (Forward Email)
# =============================================================================
# Used for sending responses to user feedback
# Sign up at https://forwardemail.net and configure your domain
SMTP_USER=support@yourdomain.com
SMTP_PASS=your_forward_email_password_here
FROM_EMAIL=support@yourdomain.com
FROM_NAME=Flyx Support
